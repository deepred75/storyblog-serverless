(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{496:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));r(23),r(58),r(60),r(140),r(196),r(59);var n=function(e){return[{hid:"twitter:title",name:"twitter:title",content:e.title},{hid:"twitter:description",name:"twitter:description",content:e.description},{hid:"twitter:image",name:"twitter:image",content:e.image},{hid:"twitter:image:alt",name:"twitter:image:alt",content:e.imageAlt},{hid:"og:title",name:"og:title",content:e.title},{hid:"og:description",name:"og:description",content:e.description},{hid:"og:image",name:"og:image",content:e.image},{hid:"og:image:alt",name:"og:image:alt",content:e.imageAlt}]},o=function(text){return text.toLowerCase().split(" ").map((function(i){var e=i.split("");return e[0]=e[0].toUpperCase(),e.join("")})).join(" ")}},499:function(e,t,r){var content=r(518);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("040897ec",content,!0,{sourceMap:!1})},516:function(e,t,r){e.exports=r.p+"img/cover-default.4fb319f.jpg"},517:function(e,t,r){"use strict";r(499)},518:function(e,t,r){var n=r(30)((function(i){return i[1]}));n.push([e.i,'/*purgecss start ignore*/\n.displayName[data-v-c771ae5a]{\n  display:inline-block;\n  position:absolute;\n  bottom:0px;\n  -webkit-user-select:none;\n     -moz-user-select:none;\n      -ms-user-select:none;\n          user-select:none;\n  padding:2rem;\n  padding-right:7rem;\n  font-size:1.875rem;\n  line-height:2.25rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  z-index:2\n}\n.displayName[data-v-c771ae5a]:before{\n  content:"";\n  background-image:linear-gradient(to right, var(--tw-gradient-stops));\n  --tw-gradient-from:#000;\n  --tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(0, 0, 0, 0));\n  --tw-gradient-stops:var(--tw-gradient-from), #111827, var(--tw-gradient-to, rgba(17, 24, 39, 0));\n  --tw-gradient-to:transparent;\n  opacity:.2;\n  z-index:-1;\n  position:absolute;\n  width:100%;\n  height:100%;\n  left:0;\n  top:0\n}\n.coverImage[data-v-c771ae5a]{\n  height:16rem;\n  width:100%;\n  z-index:-2\n}\n.stickyUser[data-v-c771ae5a]{\n  color:#303133\n}\n\n/*purgecss end ignore*/',""]),n.locals={},e.exports=n},533:function(e,t,r){"use strict";r.r(t);var n=r(1),o=(r(28),r(107),r(17),r(39),r(40),r(495),r(280),r(53),r(69),r(496)),l={head:function(){return{title:"".concat(Object(o.b)(this.user.displayName)," Profile"),meta:Object(o.a)({title:"".concat(Object(o.b)(this.user.displayName),"'s profile"),description:"Public profile page of ".concat(Object(o.b)(this.user.displayName),"."),image:this.user.photoURL||r(277),imageAlt:Object(o.b)(this.user.displayName)})}},data:function(){return{followLoading:!1,limit:3,published:!0,coverImageURL:null,coverImageFile:null,coverLoading:!1}},methods:{toggleFollow:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.authUser){t.next=18;break}if(e.followLoading){t.next=15;break}if(e.followLoading=!0,!e.hasAlreadyFollowed){t.next=9;break}return t.next=6,e.$store.dispatch("user/unfollow",e.user.uid);case 6:e.user.followers.splice(e.user.followers.indexOf(e.authUser.uid),1),t.next=12;break;case 9:return t.next=11,e.$store.dispatch("user/follow",e.user.uid);case 11:e.user.followers.push(e.authUser.uid);case 12:e.followLoading=!1,t.next=16;break;case 15:e.$message.warning("Slow Down !!!");case 16:t.next=19;break;case 18:e.$message.error("You have to login to follow someone");case 19:case"end":return t.stop()}}),t)})))()},discardChanging:function(){this.coverImageURL=null,this.coverImageFile=null},acceptChanging:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.coverLoading){t.next=9;break}return e.coverLoading=!0,t.next=4,e.$store.dispatch("user/updateUser",{updatedUser:JSON.parse(JSON.stringify(e.authUser)),coverImageFile:e.coverImageFile});case 4:e.$message.success("Cover image changed successfully."),e.coverLoading=!1,e.$router.go(),t.next=10;break;case 9:e.$message.warning("Slow Down !!!");case 10:case"end":return t.stop()}}),t)})))()},handleCoverSuccess:function(e,t){var img=new Image;img.src=URL.createObjectURL(t.raw);var r=this;img.onload=function(){this.width>1280||this.height>720?r.$message.error("Cover image resolution cannot exceed 1280 x 720 pixel"):(r.coverImageURL=this.src,r.coverImageFile=t.raw)}},beforeCoverUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t?r||this.$message.error("Cover image size can not exceed 2 MB!"):this.$message.error("Cover image must be JPG or PNG format!"),t&&r}},computed:{authUser:function(){return this.$store.getters["user/getUser"]},ownProfile:function(){return null!=this.authUser&&this.authUser.username==this.$route.params.username},hasAlreadyFollowed:function(){return null!=this.authUser&&this.authUser.followed.includes(this.user.uid)}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,c,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.dispatch("user/fetchUserId",e.route.params.username);case 2:if(!(r=t.sent).exists){t.next=19;break}return t.next=6,e.store.dispatch("user/fetchUser",r.data().uid);case 6:return n=t.sent.data(),t.next=9,e.store.dispatch("post/fetchUserPosts",{uid:n.uid,limit:3,cacheUsers:[]});case 9:return o=t.sent,l=o.posts,c=o.users,t.next=14,e.store.dispatch("post/fetchUserUnpPosts",{uid:n.uid,limit:3,cacheUsers:[]});case 14:return d=t.sent,m=d.posts,t.abrupt("return",{user:n,posts:l,users:c,unpPosts:m});case 19:e.redirect("/");case 20:case"end":return t.stop()}}),t)})))()}},c=(r(517),r(29)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"h-64 shadow-lg relative overflow-hidden"},[n("div",{staticClass:"coverImage postImageAnimation",style:"background-image: url("+(e.coverImageURL||e.user.coverImageURL||r(516))+")"}),e._v(" "),n("h1",{staticClass:"displayName"},[e._v(e._s(e.user.displayName))]),e._v(" "),e.ownProfile?n("div",{staticClass:"absolute bottom-0 right-0 p-8 flex items-center justify-center text-white"},[n("client-only",[this.coverImageURL?n("div",{staticClass:"flex space-x-2"},[n("el-tooltip",{attrs:{effect:"dark",content:"Discard",placement:"left"}},[n("el-button",{staticClass:"w-12 h-12",attrs:{size:"small",type:"danger",circle:"",plain:""},on:{click:function(t){return e.discardChanging()}}},[n("span",{staticClass:"isax-gallery-remove text-lg"})])],1),e._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Accept",placement:"top"}},[n("el-button",{staticClass:"w-12 h-12",attrs:{size:"small",type:"success",circle:"",plain:""},on:{click:function(t){return e.acceptChanging()}}},[n("span",{staticClass:"isax-gallery-tick text-lg"})])],1)],1):n("el-upload",{attrs:{action:"","show-file-list":!1,"on-success":e.handleCoverSuccess,"before-upload":e.beforeCoverUpload}},[n("el-tooltip",{attrs:{effect:"dark",content:"Change Backdrop",placement:"left"}},[n("el-button",{staticClass:"w-12 h-12",attrs:{size:"small",type:"success",circle:"",plain:""}},[n("span",{staticClass:"isax-gallery-edit text-lg"})])],1)],1)],1)],1):e._e()]),e._v(" "),n("div",{staticClass:"p-5 flex w-full"},[n("div",{staticClass:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl"},[n("div",{staticClass:"md:flex"},[n("div",{staticClass:"md:flex-shrink-0"},[n("img",{staticClass:"h-48 w-full object-cover md:h-full md:w-48",attrs:{src:e.user.photoURL||r(277),alt:e.user.displayName}})]),e._v(" "),n("div",{staticClass:"p-8"},[n("div",{staticClass:"uppercase tracking-wide text-sm text-indigo-500 font-semibold"},[e._v(e._s(e.user.displayName))]),e._v(" "),n("p",{staticClass:"block mt-1 text-lg leading-tight font-medium text-black hover:underline"},[e._v(e._s(e.user.bio))]),e._v(" "),e.user.location?n("div",{staticClass:"flex items-center",attrs:{title:e.user.location}},[n("i",{staticClass:"mr-1 text-xl isax-location"}),n("span",{staticClass:"whitespace-nowrap overflow-ellipsis overflow-hidden"},[e._v(e._s(e.user.location))])]):e._e(),e._v(" "),e.user.profession?n("div",{staticClass:"flex items-center",attrs:{title:e.user.profession}},[n("i",{staticClass:"mr-1 text-xl isax-briefcase"}),n("span",{staticClass:"whitespace-nowrap overflow-ellipsis overflow-hidden"},[e._v(e._s(e.user.profession))])]):e._e(),e._v(" "),n("div",{staticClass:"space-x-1"},[e.followLoading?n("Loading"):n("strong",[e._v(e._s(e.user.followers.length))]),n("span",[e._v("followers")])],1),e._v(" "),n("div",{staticClass:"space-x-1"},[n("strong",[e._v(e._s(e.user.followed.length))]),n("span",[e._v("followed")])]),e._v(" "),e.ownProfile?e._e():n("p",{staticClass:"mt-2 text-gray-500"},[n("el-button",{attrs:{type:"success",size:"medium",round:"",plain:e.hasAlreadyFollowed},on:{click:function(t){return e.toggleFollow()}}},[e._v(e._s(e.hasAlreadyFollowed?"Unfollow":"Follow"))])],1)])])])])])}),[],!1,null,"c771ae5a",null);t.default=component.exports;installComponents(component,{Loading:r(276).default})}}]);